!function(l){function n(t){if(e[t])return e[t].exports;var u=e[t]={i:t,l:!1,exports:{}};return l[t].call(u.exports,u,u.exports,n),u.l=!0,u.exports}var e={};n.m=l,n.c=e,n.d=function(l,e,t){n.o(l,e)||Object.defineProperty(l,e,{configurable:!1,enumerable:!0,get:t})},n.n=function(l){var e=l&&l.__esModule?function(){return l.default}:function(){return l};return n.d(e,"a",e),e},n.o=function(l,n){return Object.prototype.hasOwnProperty.call(l,n)},n.p="",n(n.s=0)}([function(l,n,e){"use strict";var t=e(1),u=function(l){return l&&l.__esModule?l:{default:l}}(t),i=[[1,1,1,1,1,1,1,1,1,1,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,0,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,0,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,null,null,null,null,null,null,null,null,null,1],[1,1,1,1,1,1,1,1,1,1,1]];new u.default(i)},function(l,n,t){"use strict";function u(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function l(l,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(n,e,t){return e&&l(n.prototype,e),t&&l(n,t),n}}(),a=function(){function l(n,e,t,i,a,o,r,s){u(this,l),this.head=null,this.validDirections=["up","right","down","left"],this.obstacleHandler=t,this.foodHandler=i,this.endGameHandler=a,this.eatenHandler=o,this.tailMovementHandler=r,this.headMovementHandler=s;var d={};d.x=n,d.y=e,d.next=null,this.head=d,this.direction=this.validDirections[0]}return i(l,[{key:"moveAhead",value:function(){var l={};if(l.x=this.head.x+this.getXOffset(),l.y=this.head.y+this.getYOffset(),l.next=this.head,this.head=l,this.isFood(this.head))this.notifyEaten(this.head),console.log("Yummy!");else{if(this.notifyHeadMovement(this.head),this.isDead(this.head))return void this.notifyDead();for(var n=this.head;null!=n.next.next;)n=n.next;var e=n.next;this.notifyTailMovement(e),e=null,n.next=null}}},{key:"notifyHeadMovement",value:function(l){return this.headMovementHandler(l.x,l.y)}},{key:"notifyTailMovement",value:function(l){return this.tailMovementHandler(l.x,l.y)}},{key:"notifyEaten",value:function(l){return this.eatenHandler(l.x,l.y)}},{key:"isFood",value:function(l){return this.foodHandler(l.x,l.y)}},{key:"getXOffset",value:function(){return 1}},{key:"getYOffset",value:function(){return 0}},{key:"isDead",value:function(l){return!!this.obstacleHandler(l.x,l.y)&&(console.log("Tried to eat "+l.x+" "+l.y),!0)}},{key:"notifyDead",value:function(){this.endGameHandler()}}]),l}(),o=function(){function l(n){u(this,l),this.grid=Array(n.length).fill([]);var e=0,t=0;for(e=0;e<n.length;e++)for(this.grid[e]=Array(n[e].length).fill(null),t=0;t<n[e].length;t++)null!=n[e][t]&&1===n[e][t]?(this.grid[e][t]=1,this.markObstacle(e,t)):null!=n[e][t]&&0===n[e][t]?(this.grid[e][t]=0,this.markFood(e,t)):this.grid[e][t]=null;this.startListeningToDirectionInputs(),this.snake=new a(Math.floor(e/2),Math.floor(t/2),this.isObstacle.bind(this),this.isFood.bind(this),this.endGame.bind(this),this.eatenHandler.bind(this),this.tailMovementHandler.bind(this),this.headMovementHandler.bind(this)),this.headMovementHandler(Math.floor(e/2),Math.floor(t/2)),this.startGame()}return i(l,[{key:"startListeningToDirectionInputs",value:function(){document.onkeypress=this.arrowKeysHandler.bind(this)}},{key:"startGame",value:function(){console.log("New Game Started"),this.interval=setInterval(this.handleNextTick.bind(this),1e3)}},{key:"handleNextTick",value:function(){console.log("Next Turn"),this.snake.moveAhead()}},{key:"isObstacle",value:function(l,n){var e=l,t=n;return 1==this.grid[e][t]&&(this.markFatal(l,n),!0)}},{key:"isFood",value:function(l,n){var e=l,t=n;return 0==this.grid[e][t]}},{key:"endGame",value:function(){clearInterval(this.interval)}},{key:"eatenHandler",value:function(l,n){console.log("Ate "+l+" "+n),document.getElementById(l+"-"+n).setAttribute("class","occupied")}},{key:"tailMovementHandler",value:function(l,n){console.log("Trail "+l+" "+n),document.getElementById(l+"-"+n).setAttribute("class","cell")}},{key:"headMovementHandler",value:function(l,n){console.log("Head Moves to "+l+" "+n),document.getElementById(l+"-"+n).setAttribute("class","occupied")}},{key:"markObstacle",value:function(l,n){document.getElementById(l+"-"+n).setAttribute("class","obstacle")}},{key:"markFood",value:function(l,n){document.getElementById(l+"-"+n).setAttribute("class","food")}},{key:"markFatal",value:function(l,n){document.getElementById(l+"-"+n).setAttribute("class","fatal")}},{key:"arrowKeysHandler",value:function(l){l=l||window.event,console.log(e.keyCode)}}]),l}();n.default=o}]);